<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<style>

</style>

<body>


    <button class="button" type="button">현재 날씨는?</button>

    <dl>
        <img class="icon">
        <dt>기온</dt>
        <dd class="temperature"></dd>
        <dt>위치</dt>
        <dd class="place"></dd>
        <dt>설명</dt>
        <dd class="description"></dd>
    </dl>
    <script src="weather.js"></script>




    <!-- <script src="weather.js"> -->
    <script>
        const API_KEY = '3f3a838a05d1ff02052cd83c08270edb';
        const button = document.querySelector('.button');
        const success = (position) => {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;
            const getWeather = (lat, lon) => {
                fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}& units=metric & lang=kr`
                )
            }

            getWeather(latitude, longitude);
        };
        const getWeather = (lat, lon) => {
            fetch(
                `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=kr`
            )
                .then((response) => {
                    return response.json();
                })
        }
        const getWeather = (lat, lon) => {

    .then((json) => {
            console.log(json);
        })
}
        const getWeather = (lat, lon) => {

   .catch ((error) => {
            alert(error);
        });
}
        const tempSection = document.querySelector('.temperature');
        const placeSection = document.querySelector('.place');
        const descSection = document.querySelector('.description');
        const getWeather = (lat, lon) => {

    .then((json) => {
            const temperature = json.main.temp;
            const place = json.name;
            const description = json.weather[0].description;

            tempSection.innerText = temperature;
            placeSection.innerText = place;
            descSection.innerText = description;
        })

};

        const getWeather = (lat, lon) => {

    .then((json) => {
            const icon = json.weather[0].icon;
            const iconURL = `http://openweathermap.org/img/wn/${icon}@2x.png`;

            iconSection.setAttribute('src', iconURL);
        })

};

        button.addEventListener('click', () => {
            console.log(button);
        });


    </script>
</body>

</html>